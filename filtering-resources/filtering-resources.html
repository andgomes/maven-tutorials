<!DOCTYPE html>

<html>
    <head>
        <title>Filtrando Arquivos de Recurso</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    </head>
    <body>
        <h1>Filtrando Arquivos de Recurso</h1>
        
        <p>
        No post anterior, vimos como copiar arquivos de recurso para o diretório
        de classes. Porém, da forma como vimos, o arquivo tem que ser estático,
        ou seja, não há a possibilidade de o conteúdo do arquivo ser alterado
        para atender às necessidades específicas de cada ambiente. Por exemplo,
        em determinado projeto, poderíamos precisar salvar o caminho do banco de
        dados da aplicação em um arquivo de recurso separado. Esse caminho não
        necessariamente será o mesmo em todos os computadores dos programadores.
        </p>
        
        <p>
        O problema da localização do banco de dados pode ser resolvido pelo
        menos de duas formas. A primeira forma de resolver é obrigando cada
        programador a alterar o arquivo manualmente. Se o projeto for mantido
        em um ambiente de versionamento, toda vez que houver uma sincronização
        o arquivo terá que ser alterado novamente. A segunda forma é utilizando
        a filtração de recursos. Com a filtração de recursos, podemos utilizar
        placeholders(campos variáveis) para os dados que dependem do ambiente de
        execução.
        </p>
        
        <p>
        Como exemplo de uso da filtração de recursos, vamos criar um arquivo de
        que contém o nome do programador que está desenvolvendo em determinado
        computador e o nome do sistema operacional que ele está utilizando. O
        arquivo terá o seguinte conteúdo:
        </p>
        
        <p>
        programmer-resource.txt
        </p>
        
        <p>
        Programmer name: ${programmer.name}
        Operating system: ${os.name}-${os.version}
        </p>
        
        <p>
        A sintaxe de um placeholder segue a estrutura ${nome.do.campo}. Por
        convenção, o caractere ponto(.) é utilizado como separador do nome do
        campo.
        </p>
        
        <p>
		Agora precisamos de um arquivo onde o nome do programador fique
		armazenado e esteja disponível para que o Maven substitua o campo
		programmer.name quando copiar o arquivo de recurso. Poderíamos escolher
		o arquivo POM, porém o problema de cada programador ter que alterar
		o arquivo a cada sincronização não seria resolvido, porque o POM de um
		projeto é compartilhado entre todos os programadores.
        </p>
        
        <p>
        Vamos criar um arquivo chamado settings.xml no diretório .m2, que é o
        repositório local onde o Maven armazena os plugins que são baixados.
        O diretório .m2 é um hidden directory(para vê-lo precisamos digitar
        ctrl+h) localizado em /home/seuusername.
        </p>
        
        <p>
        O arquivo settings.xml terá o seguinte conteúdo.
        </p>
        
        <p>
        settings.xml
        </p>
    </body>
</html>
