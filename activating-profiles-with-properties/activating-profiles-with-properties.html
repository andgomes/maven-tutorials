<!DOCTYPE html>

<html>
	<head>
		<title>Ativando Profiles Através de Properties</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	</head>
	<body>
		<h1>Ativando Profiles Através de Properties</h1>
		
		<p>
		No post anterior, vimos duas formas básicas de ativar um profile:
		através do parâmetro activeByDefault ou com a opção -P na linha de
		comando. Neste tutorial, veremos como ativar um profile através da
		configuração de propriedades.
		</p>
		
		<p>
		Vamos criar um profile com o id dev e incluir uma propriedade e um valor
		como condição de ativação.
		</p>
		
		<p>
		&lt;project ...&gt; <br />
		--... <br />
		--&lt;profiles&gt; <br />
		----&lt;profile&gt; <br />
		------&lt;id&gt;dev&lt;/id&gt; <br />
		------&lt;activation&gt; <br />
		--------&lt;property&gt; <br />
		----------&lt;name&gt;env&lt;/name&gt; <br />
		----------&lt;value&gt;dev&lt;/value&gt; <br />
		--------&lt;/property&gt; <br />
		------&lt;/activation&gt; <br />
		----&lt;/profile&gt; <br />
		--&lt;/profiles&gt; <br />
		&lt;/project&gt;
		</p>
		
		<p>
		Para ativar o profile dev, devemos configurar a propriedade env com o
		valor dev na execução do build. Como exemplo, vamos executar o goal
		active-profiles com o seguinte comando:
		</p>
		
		<p>
		$ mvn help:active-profiles -Denv=dev
		</p>
		
		<p>
	    Como a propriedade foi configurada com o valor correto de ativação do
	    profile, este será listado no resultado do comando.
		</p>
		
		<p>
		Active Profiles for Project 'com.andgomes:simple-project:jar:1.0-SNAPSHOT': <br /> <br />
        The following profiles are active: <br /> <br />
        - dev (source: com.andgomes:simple-project:1.0-SNAPSHOT)
		</p>
		
		<p>
		Caso quiséssemos ativar o profile dev em qualquer build, menos quando a
		propriedade env fosse configurada com um valor específico, bastaria
		incluir o caractere '!' antes daquele valor. Por exemplo:
		</p>
		
		<p>
		&lt;project ...&gt; <br />
		--... <br />
		--&lt;profiles&gt; <br />
		----&lt;profile&gt; <br />
		------&lt;id&gt;dev&lt;/id&gt; <br />
		------&lt;activation&gt; <br />
		--------&lt;property&gt; <br />
		----------&lt;name&gt;env&lt;/name&gt; <br />
		----------&lt;value&gt;!production&lt;/value&gt; <br />
		--------&lt;/property&gt; <br />
		------&lt;/activation&gt; <br />
		----&lt;/profile&gt; <br />
		--&lt;/profiles&gt; <br />
		&lt;/project&gt;
		</p>
		
		<p>
		Nesse caso, o profile dev só não será ativado se o valor da propriedade
		env for configurado como production. Qualquer outro valor, inclusive
		nenhum, fará com que o profile seja ativado.
		</p>
	</body>
</html>
